<%- layout('boilerplate') -%> 

<h1>To-Do List</h1>

<!-- Flex container to align items with spacing -->
<div class="container d-flex justify-content-between gap-5">

    <!-- Left Side: To-Do Items -->
    <div class="w-50 me-5"> <!-- Added margin-right -->
        <% for (let todo of todos) { %>
            <div class="mt-3">
                <div class="p-3 border rounded">
                    <% const deleteID = todo._id + '-delete'; %>
            
                    <h4 id="<%= todo._id %>-title"><%= todo.title %></h4>
                    <p class="mx-3" id="<%= todo._id %>-desc">&#8226; <%= todo.description %></p>

                    <div class="d-flex gap-2 w-100">
                        <form class="w-25" action="/todo/<%=todo._id%>/edit" method="get">
                          <button class="btn btn-warning">Edit</button>
                        </form>

                        

                        <form class="w-25" action="/todo/<%=todo._id%>?_method=delete" method="post">
                          <button name="delete-btn" id="<%= deleteID %>" class="btn btn-danger">Delete</button>
                        </form>
                      </div>
                      
                </div>
            </div>
        <% } %>
    </div>

    <!-- Right Side: To-Do Form -->
    <div class="w-50">
        <form action="/todo" method="post">
            <div class="form-group">
                <h4 class="mx-3" for="title" id="newTodoTitle">New To-Do</h4>
                <input type="text" name="title" id="title" placeholder="To-Do Title" required class="form-control">
                <textarea name="description" id="description" placeholder="Description" required class="form-control mt-2"></textarea>
                <div class="d-flex justify-content-center mt-2">
                    <button class="btn btn-success">Add To-Do Item</button>
                </div>
            </div>
        </form>
    </div>

</div>
